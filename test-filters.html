<!DOCTYPE html>
<html>
<head>
    <title>Test Apartment Filters</title>
</head>
<body>
    <h1>Test Apartment Filters API</h1>
    
    <div>
        <label>City: <input type="text" id="city" value=""></label><br>
        <label>Min Rent: <input type="number" id="minRent" value="300"></label><br>
        <label>Max Rent: <input type="number" id="maxRent" value="500"></label><br>
        <button onclick="testFilters()">Test Filters</button>
    </div>
    
    <h2>Request URL:</h2>
    <pre id="requestUrl"></pre>
    
    <h2>Response:</h2>
    <pre id="response"></pre>
    
    <script>
        async function testFilters() {
            const city = document.getElementById('city').value;
            const minRent = document.getElementById('minRent').value;
            const maxRent = document.getElementById('maxRent').value;
            
            const params = new URLSearchParams();
            if (city) params.append('city', city);
            if (minRent) params.append('minRent', minRent);
            if (maxRent) params.append('maxRent', maxRent);
            
            const url = `https://localhost:5002/api/v1/rent/get-all-apartments?${params.toString()}`;
            document.getElementById('requestUrl').textContent = url;
            
            try {
                const response = await fetch(url);
                const data = await response.json();
                document.getElementById('response').textContent = JSON.stringify(data, null, 2);
                console.log('Received apartments:', data);
                console.log('Apartments matching filter:', data.filter(a => a.rent >= minRent && a.rent <= maxRent));
            } catch (error) {
                document.getElementById('response').textContent = 'Error: ' + error.message;
            }
        }
    </script>
</body>
</html>
